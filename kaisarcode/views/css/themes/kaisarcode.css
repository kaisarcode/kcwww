/**
 * KaisarCode Theme
 * Summary: Definitive theme for kaisarcode.com.
 * Definitive site-wide theme with a pixel-perfect vintage aesthetic.
 *
 * Author: KaisarCode
 * Website: https://kaisarcode.com
 * License: GNU GPL v3.0
 * License URL: https://www.gnu.org/licenses/gpl-3.0.txt
 */
@import url("../kcui/kcui.css");
@import url("../fonts.css");
@import url("../icons.css");

:root {
    --quote-mark-size: 2.5rem;
}

/* Layout logic */
html,
body {
    height: 100%;
    overflow: hidden;
}

body {
    padding: 0;
    display: flex;
    flex-direction: column;
}

body > header,
body > footer {
    max-width: 100%;
    width: 100%;
    margin: 0;
    border-radius: 0;
    border-left: 0;
    border-right: 0;
    display: grid;
    grid-template-columns: 1fr minmax(auto, var(--max)) 1fr;
    align-items: center;
    flex-shrink: 0;
    padding-left: calc(var(--pad)*2rem);
    padding-right: calc(var(--pad)*2rem);
    z-index: 10;
}

body > header > *,
body > footer > * {
    grid-column: 2;
    grid-row: 1;
    margin: 0;
}

body > header > h1,
body > footer > p {
    justify-self: start;
}

body > header > nav,
body > footer > nav {
    justify-self: end;
    display: flex;
    gap: calc(var(--pad)*1rem);
}

main {
    background: transparent;
    border: none;
    box-shadow: none;
    border-radius: 0;
    width: 100%;
    max-width: 100%;
    padding: calc(var(--pad)*2rem);
    overflow-y: auto;
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
}

main > * {
    width: 100%;
    max-width: var(--max);
}

main > article,
main > section {
    background-color: transparent;
    border: none;
    border-radius: 0;
    padding: 0;
    box-shadow: none;
}

main > article > section,
main > section > section {
    padding: calc(var(--pad)*2rem);
}

main > article > header,
main > article > footer,
main > section > header,
main > section > footer {
    padding: calc(var(--pad)*1rem) calc(var(--pad)*2rem);
}

/* Visual aesthetics */
html,
body,
article h1,
article h2,
article h3,
article h4,
article h5,
article h6 {
    font-family: "Roboto Condensed", sans-serif;
}

code,
kbd,
samp,
var,
output,
article > section {
    font-family: "Roboto Mono", monospace;
}

body {
    background-size: 4px 4px;
    background-attachment: fixed;
    background-color: var(--bg);
    background-image: repeating-linear-gradient(45deg, var(--bg-pat) 0, var(--bg-pat) 0.4px, var(--bg) 0, var(--bg) 50%);
}

header,
footer,
legend {
    background-size: 4px 4px;
    background-attachment: fixed;
    background-color: var(--bg-hdr);
    background-image: repeating-linear-gradient(45deg, var(--bg-hdr-pat) 0, var(--bg-hdr-pat) 0.4px, var(--bg-hdr) 0, var(--bg-hdr) 50%);
}

section,
fieldset {
    background-size: 4px 4px;
    background-attachment: fixed;
    background-color: var(--bg-pnl);
    background-image: repeating-linear-gradient(45deg, var(--bg-pnl-pat) 0, var(--bg-pnl-pat) 0.4px, var(--bg-pnl) 0, var(--bg-pnl) 50%);
}

footer p {
    font-style: italic;
    font-size: 0.9rem;
}

/* Navigations and buttons */
header nav,
footer nav {
    display: flex;
    gap: calc(var(--pad)*1rem);
    align-items: center;
}

header nav a,
footer nav a {
    text-transform: uppercase;
    font-size: 0.8rem;
    font-weight: bold;
    color: var(--tx-hdr);
    text-decoration: none;
    transition: all 0.1s ease-in-out;
}

header nav a:hover,
footer nav a:hover {
    color: var(--bg-prm);
}

header nav > a:after,
footer nav > a:after {
    content: '|';
    margin-left: calc(var(--pad)*1rem);
    color: rgba(255, 255, 255, 0.3);
}

header nav > a:last-child:after,
footer nav > a:last-child:after {
    content: none;
}

/* Menu list styling */
header menu,
footer menu {
    display: flex;
    gap: calc(var(--pad)*1rem);
    list-style: none;
    margin: 0;
    padding: 0;
}

header menu li,
footer menu li {
    display: flex;
    align-items: center;
}

header menu li:not(:last-child):after,
footer menu li:not(:last-child):after {
    content: '|';
    margin-left: calc(var(--pad)*1rem);
    color: rgba(255, 255, 255, 0.3);
}

header menu a,
footer menu a {
    text-transform: uppercase;
    font-size: 0.8rem;
    font-weight: bold;
    color: var(--tx-hdr);
    text-decoration: none;
    display: flex;
    align-items: center;
    gap: 0.25rem;
    transition: all 0.1s ease-in-out;
}

header menu a:hover,
footer menu a:hover {
    color: var(--bg-prm);
}

/* General icon sizing */
a svg,
h1 svg,
h2 svg,
h3 svg,
h4 svg,
h5 svg,
h6 svg,
legend svg,
label svg {
    width: auto;
    height: 0.8rem;
    position: relative;
    display: inline-block;
    vertical-align: middle;
    transition: all 0.1s ease-in-out;
}

svg+span {
    top: 1px;
    position: relative;
    display: inline-block;
    vertical-align: middle;
}

/* Specific Header Icon Sizes */
header h1 svg {
    height: 1.2rem;
}

header h2 svg,
header h3 svg,
header h4 svg,
header h5 svg,
header h6 svg {
    height: 0.8rem;
}

/* Header Icon Colors */
header h1 svg,
header h2 svg,
header h3 svg,
header h4 svg,
header h5 svg,
header h6 svg,
legend svg {
    color: var(--bg-prm);
}

/* Nav/menu link icons - inherit color */
header nav a svg,
header menu a svg,
footer nav a svg,
footer menu a svg {
    color: inherit;
}

/* Article styling */
article h1 {
    font-size: 1.5rem;
    font-weight: bold;
    text-transform: uppercase;
    margin-bottom: 1rem;
    line-height: 1.5rem;
}

article h2,
article h3,
article h4,
article h5,
article h6 {
    line-height: 1.5rem;
}

article p,
article ul,
article ol,
article blockquote {
    line-height: 2rem;
}

article li::marker {
    color: var(--bg-prm);
    font-weight: bold;
}

article h2,
article h3 {
    border-left: 5px solid var(--bg-prm);
    padding-left: calc(var(--pad)*1rem);
    margin-block: calc(var(--pad)*3rem);
    font-weight: bold;
    text-transform: uppercase;
}

/* Heading resets for headers and legends */
header h1,
header h2,
header h3,
header h4,
header h5,
header h6,
legend h1,
legend h2,
legend h3,
legend h4,
legend h5,
legend h6 {
    border-left: none !important;
    padding-left: 0 !important;
    margin: 0 !important;
    font-size: 1rem !important;
}

header h1 a,
header h2 a,
header h3 a,
header h4 a,
header h5 a,
header h6 a {
    color: inherit;
    text-decoration: none;
}

/* Panel Headers Flex Layout */
main header h1, main header h2, main header h3, main header h4, main header h5, main header h6,
article header h1, article header h2, article header h3, article header h4, article header h5, article header h6,
section header h1, section header h2, section header h3, section header h4, section header h5, section header h6 {
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

article blockquote {
    position: relative;
    margin: 0;
    padding: calc(var(--pad)*6rem) calc(var(--pad)*2rem);
    font-size: 1rem;
    font-weight: normal;
    font-style: italic;
    color: var(--tx-sys);
    border: 1px solid var(--bd-pnl);
    border-radius: calc(var(--rad)*1rem);
    background: transparent;
}

article blockquote::before,
article blockquote::after {
    content: "";
    position: absolute;
    width: var(--quote-mark-size);
    height: var(--quote-mark-size);
    background-color: var(--tx-sys);
    opacity: 0.3;
    -webkit-mask-repeat: no-repeat;
    mask-repeat: no-repeat;
    -webkit-mask-size: var(--quote-mark-size) var(--quote-mark-size);
    mask-size: var(--quote-mark-size) var(--quote-mark-size);
    pointer-events: none;
}

article blockquote::before {
    top: 0.5rem;
    left: 1rem;
    -webkit-mask-image: url(/img/fa/solid/quote-left.svg);
    mask-image: url(/img/fa/solid/quote-left.svg);
}

article blockquote::after {
    bottom: 0.5rem;
    right: 1rem;
    -webkit-mask-image: url(/img/fa/solid/quote-right.svg);
    mask-image: url(/img/fa/solid/quote-right.svg);
}

/* Masonry column layout for explore */
main > section > section {
    display: block;
    columns: var(--col) 4;
    column-gap: calc(var(--pad)*1rem);
}

main > section > section article {
    break-inside: avoid;
    margin-bottom: calc(var(--pad)*1rem);
    display: flex;
    flex-direction: column;
    padding: 0;
    overflow: hidden;
    background-color: transparent;
    border: 1px solid var(--bd-pnl);
    border-radius: calc(var(--rad)*1rem);
}

main > section > section article header,
main > section > section article footer {
    background-color: var(--bg-pnl);
}

main > section > section article figure {
    display: block;
    margin: 0;
    height: 120px;
    overflow: hidden;
    border-bottom: 1px solid var(--bd-hdr);
    position: relative;
    background-color: var(--bg-pnl);
}

main > section > section article figure img {
    position: absolute;
    top: 50%;
    left: 0;
    width: 100%;
    height: auto;
    min-height: 100%;
    transform: translateY(-50%);
    transition: transform 0.3s;
    object-fit: cover;
}

main > section > section article:hover figure img {
    transform: translateY(-50%) scale(1.05);
}

/* Quote marks and article decoration */
main > section > section article:not(:has(header)) {
    position: relative;
}

main > section > section article:not(:has(header)) section a {
    padding-top: calc(var(--pad)*6rem);
    padding-bottom: calc(var(--pad)*6rem);
    font-size: 1rem;
    font-weight: normal;
    font-style: normal;
}

main > section > section article:not(:has(header))::before,
main > section > section article:not(:has(header))::after {
    content: "";
    position: absolute;
    width: var(--quote-mark-size);
    height: var(--quote-mark-size);
    background-color: var(--tx-sys);
    opacity: 0.3;
    -webkit-mask-repeat: no-repeat;
    mask-repeat: no-repeat;
    -webkit-mask-size: var(--quote-mark-size) var(--quote-mark-size);
    mask-size: var(--quote-mark-size) var(--quote-mark-size);
    pointer-events: none;
}

main > section > section article:not(:has(header))::before {
    top: 0.5rem;
    left: 1rem;
    -webkit-mask-image: url(/img/fa/solid/quote-left.svg);
    mask-image: url(/img/fa/solid/quote-left.svg);
}

main > section > section article:not(:has(header))::after {
    bottom: 0.5rem;
    right: 1rem;
    -webkit-mask-image: url(/img/fa/solid/quote-right.svg);
    mask-image: url(/img/fa/solid/quote-right.svg);
}

/* Links */
a,
article a {
    color: var(--tx-lnk);
    text-decoration: none;
}

a:hover:not(header a):not(footer a),
article a:hover {
    text-decoration: none;
    filter: brightness(1.2);
}

.page-indicator {
    font-size: 0.8rem;
    font-style: italic;
    text-transform: uppercase;
    color: var(--tx-sys);
    margin-top: 1rem;
}

/* Explore item section text */
main > section > section article section {
    padding: calc(var(--pad)*2rem);
}

main > section > section article section p {
    line-height: 2rem;
    font-style: italic;
    color: var(--tx-pnl);
    margin: 0;
}

main > section > section article section a {
    color: inherit;
    text-decoration: none;
}

main > section > section article section a:hover {
    filter: brightness(1.2);
}
